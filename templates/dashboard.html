{% extends "base.html" %}
{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
{% endblock %}

{% block content %}
<div class="container">
    <!-- Scan Statistics -->
    <div class="card">
      <div class="section-title">Scan Statistics</div>
      <div class="stats-grid">
        <div class="stat-box">Total Scans<br><strong id="total-scans">0</strong></div>
        <div class="stat-box">Safe URLs<br><strong id="safe-count">0</strong></div>
        <div class="stat-box">Malicious URLs<br><strong id="phishing-count">0</strong></div>
      </div>
    </div>

    <!-- Graph -->
    <div class="card">
      <div class="section-title">Risk Trends</div>
        <div class="chart-container">
          <canvas id="riskChart"></canvas>
        </div>
    </div>

    <!-- Recent Scans -->
    <div class="card">
      <div class="section-title">Recent Scans</div>
      <div class="scan-list" id="recent-scans-container">
          <!-- Filed Dynamically -->
      </div>
      <div class="pagination" id="pagination-container">
          <!-- Filed Dynamically -->
      </div>
      <button class="download-btn" id="downloadReportButton">Download Full Report</button>
    </div>

    <!-- Tips -->
    <div class="card">
      <div class="section-title">Security Tips</div>
      <ul class="tips-list">
        <li>Always verify the URL before entering credentials.</li>
        <li>Enable two-factor authentication wherever possible.</li>
        <li>Keep your browser and antivirus updated.</li>
        <li>Be cautious with email links and attachments.</li>
      </ul>
    </div>
  </div>

        {% block page_js %}
            <script src="{{ url_for('static', filename='js/dashboard.js') }}"></script>
            <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
            <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0"></script>
        {% endblock %}
{% endblock %}
