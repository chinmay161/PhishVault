{% extends "base.html" %}
{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock %}
{% block content %}
    <!-- Body Section -->
<main class="container">
    {% if not current_user.is_authenticated %}
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-content">
                <h1 class="hero-title">Protect Yourself from Phishing</h1>
                <p class="hero-subtitle">Advanced AI-powered detection to keep you safe from malicious URLs and phishing attacks</p>
                <div class="hero-cta">
                    <a href="#scanSection" class="cta-primary">Start Scanning</a>
                    <a href="/features" class="cta-secondary">Learn More</a>
                </div>
            </div>
        </section>

        <section class="features">
            <div class="section-header">
                <h2 class="section-title">Why Choose PhishVault?</h2>
                <p class="section-subtitle">Cutting-edge technology meets user-friendly design to provide comprehensive protection against phishing threats</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">üõ°Ô∏è</div>
                    <h3 class="feature-title">Real-time Protection</h3>
                    <p class="feature-description">Instant analysis of URLs with our advanced machine learning algorithms that detect phishing attempts in milliseconds.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üß†</div>
                    <h3 class="feature-title">AI-Powered Detection</h3>
                    <p class="feature-description">Sophisticated artificial intelligence that learns from millions of phishing patterns to provide accurate threat assessment.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üîç</div>
                    <h3 class="feature-title">Deep Analysis</h3>
                    <p class="feature-description">Comprehensive scanning including SSL certificates, domain age, redirect chains, and suspicious content patterns.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üåê</div>
                    <h3 class="feature-title">Multi-Database Check</h3>
                    <p class="feature-description">Cross-reference against multiple threat databases including PhishTank, Google Safe Browsing, and proprietary sources.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">üìä</div>
                    <h3 class="feature-title">Detailed Reports</h3>
                    <p class="feature-description">Get comprehensive technical reports with risk scores, indicators, and actionable security recommendations.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">‚ö°</div>
                    <h3 class="feature-title">Lightning Fast</h3>
                    <p class="feature-description">Results in under 5 seconds with our optimized infrastructure and global content delivery network.</p>
                </div>
            </div>
        </section>
    {% endif %}   

    <!-- Scan Input Section -->
    <section class="scan-section" id="scanSection">
        <h2 class="section-title">Scan URL</h2>
        <div class="scan-input-container">
            <div class="url-input-group">
                <input type="url" id="scanInput" class="scan-input"
                    placeholder="Enter suspicious URL here..." required>
                <button class="scan-button" id="scanButton">
                    <span class="button-text">Scan Now</span>
                    <span class="button-icon">üîç</span>
                    <span class="spinner hidden">
                        <svg viewBox="0 0 50 50" class="spinner-svg">
                            <circle cx="25" cy="25" r="20" fill="none" stroke-width="5"></circle>
                        </svg>
                    </span>
                </button>
            </div>
        </div>
    </section>

    <div class="progress-container hidden" id="progressContainer">
        <div class="progress-bar" id="progressBar"></div>
        <div class="progress-info">
            <span class="progress-step" id="progressStepText">Starting...</span>
            <span class="progress-percent" id="progressPercentText">0%</span>
        </div>
    </div>


    <!-- Risk Assessment Section -->
    <section class="risk-assessment hidden" id="riskAssessment">
        <h2 class="section-title">Security Analysis</h2>
        <div class="risk-meter">
            <div class="risk-level" id="riskLevel">
                <div class="risk-circle">
                    <span class="risk-score">85%</span>
                </div>
                <div class="risk-description">
                    <h3 class="risk-title">High Risk Detected</h3>
                    <p class="risk-text">This URL shows multiple phishing indicators</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Key Indicators Section -->
    <section class="indicators-section hidden" id="keyIndicators">
        <h2 class="section-title">Detection Indicators</h2>
        <div class="indicator-grid">
            <div class="indicator-card ssl">
                <div class="indicator-header">
                    üîí SSL Certificate
                    <span class="indicator-status bad">Invalid</span>
                </div>
                <p class="indicator-text">Expired 15 days ago</p>
            </div>
            
            <div class="indicator-card domain">
                <div class="indicator-header">
                    üåê Domain Age
                    <span class="indicator-status warning">3 Days</span>
                </div>
                <p class="indicator-text">Newly registered domain</p>
            </div>

            <div class="indicator-card keywords">
                <div class="indicator-header">
                    üîç Suspicious Patterns
                    <span class="indicator-status bad">Detected</span>
                </div>
                <p class="indicator-text">"urgent-action", "verify-account" found</p>
            </div>

            <div class="indicator-card redirect">
                <div class="indicator-header">
                    ‚Ü™ Redirect Chain
                    <span class="indicator-status good">Clean</span>
                </div>
                <p class="indicator-text">No suspicious redirects found</p>
            </div>
        </div>
    </section>

    <!-- Database Comparisons -->
    <section class="database-section hidden" id="databaseComparison">
        <h2 class="section-title">Threat Database Checks</h2>
        <div class="database-grid">
            <div class="database-item">
                <img src="/static/images/phishtank-logo.svg" alt="PhishTank" class="db-logo">
                <div class="db-status reported"></div>
                <div class="db-update"></div>
            </div>
            <div class="database-item">
                <img src="/static/images/google-safe.svg" alt="Google Safe Browsing" class="db-logo">
                <div class="db-status clean"></div>
                <div class="db-update"></div>
            </div>
        </div>
    </section>

    <!-- Technical Report -->
    <section class="tech-section hidden" id="technicalReport">
        <h2 class="section-title">Technical Analysis</h2>
        <div class="tech-details">
            <div class="tech-item">
                <label>IP Address:</label>
                <span class="tech-value ip-address">Unknown</span>
            </div>
            <div class="tech-item">
                <label>ISP:</label>
                <span class="tech-value isp">Unknown</span>
            </div>
            <div class="tech-item">
                <label>Usage Type:</label>
                <span class="tech-value usage-type">Unknown</span>
            </div>
            <div class="tech-item">
                <label>ASN:</label>
                <span class="tech-value asn">Unknown</span>
            </div>
            <div class="tech-item">
                <label>Domain Name:</label>
                <span class="tech-value domain-name">Unknown</span>
            </div>
            <div class="tech-item">
                <label>Country:</label>
                <span class="tech-value country">Unknown</span>
            </div>
            <div class="tech-item">
                <label>City:</label>
                <span class="tech-value city">Unknown</span>
            </div>
            <div class="tech-item">
                <label>Abuse Confidence Score:</label>
                <span class="tech-value abuse-confidence-score">0%</span>
            </div>
        </div>
    </section>

    <!-- Community Reports 
    <section class="community-section hidden" id="communityReports">
        <h2 class="section-title">User Reports</h2>
        <div class="comment-section">
            <div class="user-comment">
                <div class="comment-header">
                    <span class="user-name">SafetyGuardian123</span>
                    <span class="comment-date">2023-11-20</span>
                </div>
                <p class="comment-text">This site tried to steal my banking credentials!</p>
                <div class="comment-actions">
                    <button class="vote-button">üîº 12</button>
                    <button class="vote-button">üîΩ 2</button>
                </div>
            </div>
        </div>
        <form class="comment-form">
            <textarea placeholder="Add your report..." class="comment-input"></textarea>
            <button type="submit" class="submit-button">Submit Report</button>
        </form>
    </section>-->
</main>
    {% block page_js %}
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script type="module" src="{{ url_for('static', filename='js/home.js') }}"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    {% endblock %}
{% endblock %}
